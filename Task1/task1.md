Проблема 1. Реализация бизнес логики на стороне DWH и прямое подключение интерфейсов
Бизнес аргументация
- Непредназначенная нагрузка на DWH приводит к нарушению SLA по формированию отчетов для бизнеса, что напрямую влияет на скорость принятия решений.
- Процессы обработки данных DWH могут приводить к снижению производительность и нарушению SLA оперативных процессов.
- Реализация бизнес-логики на SQL приводит к росту затрат на разработку и поддержку, увеличению количества ошибок и невозможности гарантировать стабильность сервисов.

Техническая аргументация
- Сложность отладки, тестирования и контроля версий бизнес-логики, реализованной в БД, по сравнению с современными языками программирования.
- Конфликт ресурсов: OLAP-запросы и ETL-процессы конкурируют за вычислительные мощности с операционной бизнес-логикой, что приводит к деградации производительности всех систем.
- Прямой доступ к БД усложняет централизованное управление безопасностью, аудитом и модернизацией системы.

Проблема 2. Все данные в одном месте без разделения.
Бизнес аргументация:
- Нарушение принципа сегрегации данных: хранение критичных персональных и медицинских данных в аналитическом хранилище (DWH) создает неприемлемые риски несанкционированного доступа и несоответствия требованиям регуляторов (например, 152-ФЗ).
- Неэффективное хранение больших бинарных объектов (медицинские снимки, файлы) в реляционной БД приводит к резкому росту затрат на хранилище и снижению общей производительности системы.

Проблема 3.
Интеграционная шина для обмена данными с DWH и неструктурированной информацией
Бизнес аргументация
- Использование единой интеграционной шины для высоконагруженных аналитических и критичных операционных процессов создает единую точку отказа. Ее деградация или недоступность останавливает не только аналитику, но и основные бизнес-процессы. требованиям регуляторов (например, 152-ФЗ).
- Передача больших объемов данных через шину не является штатным сценарием, что приводит к ошибкам, потере данных и нарушению SLA.

Проблема 4. Неподходящий стек для большого DWH.
Бизнес аргументация
- Ограничения масштабируемости и производительности выбранного стека (MS SQL Server) для работы с большими объемами данных (Big Data) становятся узким местом при получении отчётов и времени принятии решений

Проблема 5. Подход в управлении данными
Бизнес аргументация
Текущий подход управлениями данными привёл к избыточности трансформаций. Это, в свою очередь, увеличивает сроки разработки отчётов и ведёт к регулярному нарушению SLA по их предоставлению бизнесу.

| Проблема                                  | Бизнес-ценность (User/Business Value)                        | Критичность для сроков (Time Criticality)                                                                      | Снижение риска / Возможность (Risk Reduction/Opportunity Enablement)                   | Cost of Delay (CoD) | Job Duration                                                                                | WSJF (CoD / Effort) | Приоритет |
| ----------------------------------------- | ------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- | ------------------- | ------------------------------------------------------------------------------------------- | ------------------- | --------- |
| 1. Нагрузка на DWH и нарушение SLA        | 8 (Прямое влияние на скорость принятия решений бизнесом)     | 5 (SLA нарушаются уже сейчас, но система пока работает)                                                        | 8 (Повышение стабильности и скорости аналитических решений)                            | 21                  | 5 - требует внедрения новых решений, но уже готовых                                         | 3.50                | 1         |
| 2. Сегрегация данных и риски регуляторов. | 8 (Риск огромных штрафов, потеря репутации)                  | 8 (Проверки могут быть в любой момент)                                                                         | 8 (Снижение юридических и репутационных рисков)                                        | 24                  | 8 - требует редизайн операционных процессов, новых приложений для операционной деятельности | 3.00                | 2         |
| 3. Единая точка отказа в шине             | 5 (Риск остановки всех процессов)                            | 3 (Шина может быть под нагрузкой, но вопросов к ней пока нет)                                                  | 5 (Кардинальное повышение отказоустойчивости)                                          | 13                  | 8 (Архитектурные изменения интеграционного слоя - очень сложно)                             | 1.63                | 3         |
| 4. Неподходящий стек (MS SQL)             | 3 (Проблема производительности пока решается другими путями) | 5 (Сам по себе устаревший стек не является проблем, если в нем нет критических уязвимостей или других проблем) | 8 (Замена стека позволит получать аналитику в лучше качестве: быстрее и более сложную) | 16                  | 13                                                                                          | 1.23                | 5         |
| 5. Подход в управлении данными            | 5 (Влияет на скорость разработки и время получения отчетов)  | 3 (Сейчас бизнес может получать отчёты хоть и с задержками и неудобно)                                         | 5 (Возможность быстрее реагировать на запросы бизнеса)                                 | 13                  | 8 (Затратный процесс по миграции потоков и данных)                                          | 1.63                | 4         |


Из списка зафиксированныз проблем можно увидеть, что "одно цепляется за другое". Устаревший стек MS SQL и подход к наполнению DWH бинарными объектами вкупе со сложным хранилищем приводит к медленной скорости работы отчётов и затратами аналитиков на поиск нужных данных. И если в отрыве от пожеланий бизнеса рассматривать миграцию, то её ценность будет достаточно низкой, а затраты всегда высоки. На практике обосновывать необходимость развития хранилища всегда достаточно сложно, поэтому часто встречающийся подход - это выделение бюджета и максимально выгодное его использование. В рассматриваемой ситуации уже видны проблемы, поэтому бизнес ценность быстрой работы отчётов достаточно высока. Однако, можно видеть, что проблема MS SQL сама по себе имеет низкий коэффциент, т.к. миграция это затратная задача. К сожалению, метод не учитывает, что бизнес ценность можно начинать получать в случае миграции хранилища до полной смены стека - parallel run - это приемлимая ситуация, особенно, если начать разделять данные по доменам. 